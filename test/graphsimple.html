<!DOCTYPE html>
<meta charset="utf-8"/>

<script src="../lib/d3.v3.min.js" charset="utf-8"></script>
<script src="../src/graphsimple.js" charset="utf-8"></script>
<script src="../src/simvent.js" charset="utf-8"></script>

<link rel="stylesheet" type="text/css" href="../css/gs.css" charset="utf-8"/>

<style>
body {
	box-sizing: border-box;
	padding: none;
	margin-top: none;
}
html {
	box-sizing: border-box;
	height: 100%;
	padding: 0px;
	margin: 0px;
}
svg.gs {
		  /*border: 1px solid gray;*/
		  display: block;
		  width: 90vw;
		  height: 25vh;
		  margin-left: auto;
		  margin-right: auto;
}
.gs .controlsGroup {
	opacity: .1;
	font-size: 36pt;
}
line.help {
		  stroke: black;
}
</style>
<body>
		  <script>
gs.defaults.padH = .25;
gs.defaults.margeG = 80;
gs.defaults.margeB = 30;
gs.defaults.margeB = 30;
gs.defaults.margeH = 10;
gs.defaults.padPlage = 1;
gs.defaults.yticks = 2;
gs.defaults.xticks = 20;

var tZoomStart = 10;
var tZoomStop = 12;

var lung = new sv.SimpleLung();

var vent = new sv.VDR();
vent.Rit = .5
vent.dataToFilter = null;

var data = vent.ventilate(lung).timeData;
var d2 = data.filter(d=>d.time>tZoomStart && d.time < tZoomStop);

fx = function(d){return d.time};
fy = function(d){return d.Pao};


var graph = new gs.graph();
graph.setscale(data, fx, fy)
		  .tracer(data, fx, fy)
		  .setidy('Pao');

var zoomParams = [
		  'Fip',
		  'Pao',
		  'Fop',
		  'Flung'
		  ]

var gr = [];
for (var p of zoomParams){
		  gr.push(new gs.graph().setscale(d2, fx, function(d){return d[p]}).tracer(d2, fx, function(d){return d[p]}).setidy(p));
}

		  </script>
<script>
</script>
</body>
