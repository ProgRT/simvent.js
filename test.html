<!DOCTYPE html>

<meta charset="utf-8">

<script src="d3.min.js"></script>
<script src="jquery.min.js"></script>
<script src="jquery.flot.min.js"></script>
<script src="simvent.js"></script>
<script src="graphsimple.js"></script>

<link rel="stylesheet" type="text/css" href="graphsimple-clear.css" charset="utf-8" />

<style>
.graph {
	height:175px;
	width:575px;
}

#container {
	-moz-columns:400px 2;
	line-height:200%;
}
div {
}
</style>

<div id="container">
	Phasitron input
	<div id="graph1" class="graph"></div>
	Phasitron output
	<div id="graph2" class="graph"></div>
	Presure at airway openning
	<div id="graph3" class="graph"></div>
	Lung Flow
	<div id="graph4" class="graph"></div>
	Alveolar presure
	<div id="graph5" class="graph"></div>
	Lung Volume
	<div id="graph6" class="graph"></div>
</div>

<script>
var conf = {
yaxis:{labelWidth:50}
};
var lung = new sv.SimpleLung();
lung.Raw = 5;
var VDR = sv.VDR;
VDR.Tsampl=0.002;
VDR.Tvent=1;
VDR.Tip = 0.1;
VDR.Tep = 0.1;

//var timeData = VDR.ventilate(lung).timeData;

var timeData = [];
VDR.percussiveInspiration(lung, 1.5);
VDR.percussiveExpiration(lung);
//VDR.convectiveInspiration(lung);
//VDR.convectiveExpiration(lung);

$.plot("#graph1", [timeData.map(function(d){return [d.time, d.Fip]})], conf);
$.plot("#graph2", [timeData.map(function(d){return [d.time, d.Fop]}),timeData.map(function(d){return [d.time, d.Fip]})], conf);
$.plot("#graph3", [timeData.map(function(d){return [d.time, d.Pao]})], conf);
$.plot("#graph4", [timeData.map(function(d){return [d.time, d.Flung]})], conf);
$.plot("#graph5", [timeData.map(function(d){return [d.time, d.Palv]})], conf);
$.plot("#graph6", [timeData.map(function(d){return [d.time, d.Vt]})], conf);

</script>
